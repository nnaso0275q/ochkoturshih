generator client {
  provider = "prisma-client"
  output   = "../app/generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model User {
  id        Int       @id @default(autoincrement())
  name      String    @db.VarChar(255)
  email     String    @unique @db.VarChar(255)
  password  String    @db.VarChar(255)
  role      String    @db.VarChar(50)
  createdat DateTime? @default(now()) @db.Timestamp(6)
}

model bookings {
  id                Int          @id @default(autoincrement())
  event_hall_id     Int?
  host_id           Int?
  booking_date      DateTime     @db.Date
  booking_time      DateTime     @db.Time(6)
  event_description String?
  status            String?      @default("pending") @db.VarChar(50)
  created_at        DateTime?    @default(now()) @db.Timestamp(6)
  updated_at        DateTime?    @default(now()) @db.Timestamp(6)
  event_halls       event_halls? @relation(fields: [event_hall_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  hosts             hosts?       @relation(fields: [host_id], references: [id], onUpdate: NoAction)
}

model event_halls {
  id               Int          @id @default(autoincrement())
  name             String       @db.VarChar(255)
  location         String?      @db.VarChar(255)
  region           String?      @db.VarChar(255)
  capacity         Int?
  description      String?
  hall_type        String?      @db.VarChar(100)
  culture_specific Boolean?     @default(false)
  created_at       DateTime?    @default(now()) @db.Timestamp(6)
  bookings         bookings[]
  time_slots       time_slots[]
}

model hosts {
  id            Int        @id @default(autoincrement())
  name          String     @db.VarChar(255)
  contact_email String?    @db.VarChar(255)
  contact_phone String?    @db.VarChar(50)
  bookings      bookings[]
}

model performers {
  id               Int       @id @default(autoincrement())
  name             String    @db.VarChar(255)
  bio              String?
  genre            String?   @db.VarChar(255)
  contact_email    String?   @db.VarChar(255)
  contact_phone    String?   @db.VarChar(50)
  performance_type String?   @db.VarChar(100)
  region           String?   @db.VarChar(255)
  created_at       DateTime? @default(now()) @db.Timestamp(6)
}

model time_slots {
  id            Int          @id @default(autoincrement())
  event_hall_id Int?
  slot_start    DateTime     @db.Time(6)
  slot_end      DateTime     @db.Time(6)
  is_available  Boolean?     @default(true)
  created_at    DateTime?    @default(now()) @db.Timestamp(6)
  event_halls   event_halls? @relation(fields: [event_hall_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}
